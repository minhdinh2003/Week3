2025-08-09 15:16:00.544 +07:00 [INF] Incoming request: GET /swagger/index.html
2025-08-09 15:16:00.699 +07:00 [INF] Response: 200
2025-08-09 15:16:00.802 +07:00 [INF] Incoming request: GET /swagger/v1/swagger.2025-2025-08-09 15:16:00.904 +07:00 [INF] Response: 200
2025-08-09 15:16:15.201 +07:00 [INF] Incoming request: POST /api/Auth/login
2025-08-09 15:16:15.225 +07:00 [WRN] Failed to determine the https port for red2025-082025-08-09 15:16:15.263 +07:00 [INF] Response: 401
2025-08-09 15:16:34.223 +07:00 [INF] Incoming request: POST /api/Auth/login
2025-08-09 15:16:34.242 +07:00 [INF] Response: 200
2025-08-09 15:17:04.279 +07:00 [INF] Incoming request: GET /api/Book
2025-08-09 15:17:05.713 +07:00 [INF] Response: 200
2025-08-09 15:17:22.599 +07:00 [INF] Incoming request: GET /api/Review/reviewer2022025-08-09 15:17:22.748 +07:00 [INF] Response: 200
2025-08-09 15:17:34.190 +07:00 [INF] Incoming request: DELETE /api/Book/5
2025-08-09 15:17:34.494 +07:00 [INF] Response: 204
request: DELETE /api/Book/5
2025-08-09 15:17:34.494 +07:00 [INF] Response: 204
2025-08-09 15:36:12.086 +07:00 [INF] Incoming request: GET /swagger/index.html
2025-08-09 15:36:12.240 +07:00 [INF] Response: 200
2025-08-09 15:36:12.360 +07:00 [INF] Incoming request: GET /swagger/v1/swagger.2025-2025-08-09 15:36:12.461 +07:00 [INF] Response: 200
2025-08-09 15:36:15.839 +07:00 [INF] Incoming request: GET /api/Author
2025-08-09 15:36:15.856 +07:00 [WRN] Failed to determine the https port for red2025-082025-08-09 15:36:17.241 +07:00 [INF] Response: 200
2025-08-09 15:36:34.602 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 15:36:34.610 +07:00 [INF] Response: 401
2025-08-09 15:36:53.508 +07:00 [INF] Incoming request: POST /api/Auth/login
2025-08-09 15:36:53.565 +07:00 [INF] Response: 200
2025-08-09 15:37:21.140 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 15:37:21.320 +07:00 [INF] Response: 201
2025-08-09 15:38:59.890 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 15:38:59.909 +07:00 [INF] Response: 201
ing request: POST /api/Book
2025-08-09 15:38:59.909 +07:00 [INF] Response: 201
2025-08-09 15:56:03.063 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-08-09 15:56:14.132 +07:00 [WRN] Failed to determine the https port fo2025-08-09 12025-08-09 15:56:15.382 +07:00 [ERR] An error occurred using the connectio2025-08-09 15:56:15.382 +07:00 [ERR] An error o2025-08-09 15:56:15.399 +07:00 [ERR] An exception occurred while iterating2025-08-09 15:56:15.399 +07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Week3.Data.AppDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "DBWeek3" requested by the login. The login failed.
Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:bc3ad93b-e353-4f4f-bb45-1f8c19f8537d
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "DBWeek3" requested by the login. The login failed.
Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:bc3ad93b-e353-4f4f-bb45-1f8c19f8537d
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.2025-08-09 15:56:15.414 +07:00 [ERR] HTTP GET /api/Author responded 500 in2025-08-09 15:56:15.414 +07:00 [ERR] HTTP GET /api/Author responded 500 in 1283.8880 ms
2025-08-09 15:58:28.808 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-08-09 15:58:32.351 +07:00 [INF] Incoming request: GET /swagger/index.2025-2025-08-09 15:58:32.409 +07:00 [INF] Response: 200
2025-08-09 15:58:32.518 +07:00 [INF] Incoming request: GET /swagger/v1/swa2025-08-092025-08-09 15:58:32.575 +07:00 [INF] Response: 200
2025-08-09 15:58:35.832 +07:00 [INF] Incoming request: GET /api/Author
2025-08-09 15:58:35.849 +07:00 [WRN] Failed to determine the https port fo2025-08-09 12025-08-09 15:58:37.012 +07:00 [ERR] An error occurred using the connectio2025-08-09 15:58:37.012 +07:00 [ERR] An error o2025-08-09 15:58:37.029 +07:00 [ERR] An exception occurred while iterating2025-08-09 15:58:37.029 +07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Week3.Data.AppDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "DBWeek3" requested by the login. The login failed.
Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:996e46ef-fbe1-418d-899b-f56a5760913b
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "DBWeek3" requested by the login. The login failed.
Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:996e46ef-fbe1-418d-899b-f56a5760913b
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.2025-08-09 15:58:37.042 +07:00 [INF] Response: 500
erator.MoveNextAsync()
2025-08-09 15:58:37.042 +07:00 [INF] Response: 500
2025-08-09 15:59:48.566 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-08-09 15:59:51.014 +07:00 [INF] Incoming request: GET /swagger/index.2025-2025-08-09 15:59:51.072 +07:00 [INF] Response: 200
2025-08-09 15:59:51.198 +07:00 [INF] Incoming request: GET /swagger/v1/swa2025-08-092025-08-09 15:59:51.254 +07:00 [INF] Response: 200
2025-08-09 15:59:54.840 +07:00 [INF] Incoming request: GET /api/Author
2025-08-09 15:59:54.856 +07:00 [WRN] Failed to determine the https port fo2025-08-09 12025-08-09 15:59:56.229 +07:00 [INF] Response: 200
2025-08-09 16:00:10.575 +07:00 [INF] Incoming request: POST /api/Auth/logi202025-08-09 16:00:10.609 +07:00 [INF] Response: 401
2025-08-09 16:00:25.939 +07:00 [INF] Incoming request: POST /api/Auth/logi202025-08-09 16:00:25.956 +07:00 [INF] Response: 200
2025-08-09 16:00:40.422 +07:00 [INF] Incoming request: GET /api/Author
2025-08-09 16:00:40.511 +07:00 [INF] Response: 200
2025-08-09 16:00:45.737 +07:00 [INF] Incoming request: GET /api/Book
2025-08-09 16:00:45.774 +07:00 [INF] Response: 200
2025-08-09 16:00:51.800 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:00:51.893 +07:00 [ERR] An exception occurred in the database2025-08-09 16:00:51.893 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Week3.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Books_Authors_AuthorId". The conflict occurred in database "DBQuanLySach", table "dbo.Authors", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:32f2fdf6-0141-4815-af63-dbb312011169
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Books_Authors_AuthorId". The conflict occurred in database "DBQuanLySach", table "dbo.Authors", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:32f2fdf6-0141-4815-af63-dbb312011169
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsyn2025-08-09 16:00:51.894 +07:00 [INF] Response: 500
2025-08-09 16:00:58.812 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:00:58.966 +07:00 [INF] Response: 201
2025-08-09 16:01:35.336 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:01:35.380 +07:00 [INF] Response: 201
2025-08-09 16:01:40.876 +07:00 [INF] Incoming request: GET /api/Book
2025-08-09 16:01:40.880 +07:00 [INF] Response: 200
2025-08-09 16:01:59.583 +07:00 [INF] Incoming request: GET /api/Author/1
2025-08-09 16:01:59.661 +07:00 [INF] Response: 200
est: GET /api/Author/1
2025-08-09 16:01:59.661 +07:00 [INF] Response: 200
2025-08-09 16:24:07.478 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-08-09 16:24:16.794 +07:00 [INF] Incoming request: GET /swagger/index.2025-2025-08-09 16:24:16.902 +07:00 [INF] Response: 200
2025-08-09 16:24:16.993 +07:00 [INF] Incoming request: GET /swagger/v1/swa2025-08-092025-08-09 16:24:17.091 +07:00 [INF] Response: 200
2025-08-09 16:24:36.389 +07:00 [INF] Incoming request: POST /api/Auth/logi202025-08-09 16:24:36.416 +07:00 [WRN] Failed to determine the https port fo2025-08-09 12025-08-09 16:24:36.506 +07:00 [INF] Response: 200
2025-08-09 16:24:57.094 +07:00 [INF] Incoming request: GET /api/Book
2025-08-09 16:24:58.547 +07:00 [INF] Response: 200
2025-08-09 16:25:11.357 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:25:11.652 +07:00 [INF] Response: 201
equest: POST /api/Book
2025-08-09 16:25:11.652 +07:00 [INF] Response: 201
2025-08-09 16:27:17.792 +07:00 [INF] Incoming request: GET /swagger/index.html
2025-08-09 16:27:17.951 +07:00 [INF] Response: 200
2025-08-09 16:27:18.072 +07:00 [INF] Incoming request: GET /swagger/v1/swagger.2025-2025-08-09 16:27:18.174 +07:00 [INF] Response: 200
ET /swagger/v1/swagger.json
2025-08-09 16:27:18.174 +07:00 [INF] Response: 200
2025-08-09 16:28:36.868 +07:00 [INF] Incoming request: POST /api/Auth/login
2025-08-09 16:28:36.990 +07:00 [WRN] Failed to determine the https port for 2025-08-092025-08-09 16:28:37.132 +07:00 [INF] Response: 200
2025-08-09 16:28:59.924 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:30:01.037 +07:00 [ERR] An unhandled exception has occurred whi2025-08-09 16:30:01.037 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'MassTransit.IPublishEndpoint' while attempting to activate 'Week3.Controllers.BookController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method11(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in /home/minhdinh/Downloads/Week2-Exam-main/Week3/Program.cs:line 139
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.D2025-08-09 16:30:25.141 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:30:32.099 +07:00 [ERR] An unhandled exception has occurred whi2025-08-09 16:30:32.099 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'MassTransit.IPublishEndpoint' while attempting to activate 'Week3.Controllers.BookController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method11(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in /home/minhdinh/Downloads/Week2-Exam-main/Week3/Program.cs:line 139
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.D2025-08-09 16:31:12.206 +07:00 [INF] Incoming request: GET /api/Book
2025-08-09 16:31:19.379 +07:00 [ERR] An unhandled exception has occurred whi2025-08-09 16:31:19.379 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'MassTransit.IPublishEndpoint' while attempting to activate 'Week3.Controllers.BookController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method22(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in /home/minhdinh/Downloads/Week2-Exam-main/Week3/Program.cs:line 139
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.D2025-08-09 16:31:21.569 +07:00 [INF] Incoming request: GET /api/Book
ntext)
2025-08-09 16:31:21.569 +07:00 [INF] Incoming request: GET /api/Book
2025-08-09 16:32:04.608 +07:00 [WRN] Failed to determine the https port for redirect.
2025-08-09 16:32:04.608 +07:00 [WRN] Failed to determine the https port for redirect.
2025-08-09 16:32:56.495 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-08-09 16:33:00.965 +07:00 [INF] Incoming request: GET /swagger/index.2025-2025-08-09 16:33:01.075 +07:00 [INF] Response: 200
2025-08-09 16:33:01.171 +07:00 [INF] Incoming request: GET /swagger/v1/swa2025-08-092025-08-09 16:33:01.276 +07:00 [INF] Response: 200
2025-08-09 16:33:04.445 +07:00 [INF] Incoming request: GET /api/Author
2025-08-09 16:33:04.497 +07:00 [WRN] Failed to determine the https port fo2025-08-09 12025-08-09 16:33:05.620 +07:00 [INF] Response: 200
tps port for redirect.
2025-08-09 16:33:05.620 +07:00 [INF] Response: 200
2025-08-09 16:35:37.519 +07:00 [INF] Configured endpoint book-created-queue, Consumer: Week3.BookWorkerService.Consumers.BookCreatedEventConsumer
2025-08-09 16:35:37.884 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-08-09 16:35:57.600 +07:00 [INF] Incoming request: GET /api/Author
2025-08-09 16:35:57.672 +07:00 [WRN] Failed to determine the https port for redirect.
2025-08-09 16:35:59.365 +07:00 [INF] Response: 200
2025-08-09 16:36:15.072 +07:00 [INF] Incoming request: POST /api/Auth/login
2025-08-09 16:36:15.179 +07:00 [INF] Response: 200
2025-08-09 16:36:26.142 +07:00 [INF] Incoming request: GET /api/Book
2025-08-09 16:36:26.155 +07:00 [INF] Response: 401
2025-08-09 16:36:34.579 +07:00 [INF] Incoming request: GET /api/Book
2025-08-09 16:36:34.671 +07:00 [INF] Response: 200
2025-08-09 16:36:49.826 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:36:49.948 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Week3.Data.AppDbContext'.
Micros2025-08-09 16:36:49.948 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Week3.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Books_Authors_AuthorId". The conflict occurred in database "DBQuanLySach", table "dbo.Authors", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0ae71fc0-b609-42cb-83d1-fad963988e89
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Books_Authors_AuthorId". The conflict occurred in database "DBQuanLySach", table "dbo.Authors", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0ae71fc0-b609-42cb-83d1-fad963988e89
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancella2025-08-09 16:36:50.185 +07:00 [INF] Response: 500
2025-08-09 16:37:03.830 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:37:03.941 +07:00 [INF] Response: 201
2025-08-09 16:38:03.781 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:38:03.793 +07:00 [INF] Response: 201
2025-08-09 16:38:03.914 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:38:03.921 +07:00 [INF] Response: 201
2025-08-09 16:38:04.098 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:38:04.108 +07:00 [INF] Response: 201
2025-08-09 16:38:04.236 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:38:04.244 +07:00 [INF] Response: 201
2025-08-09 16:38:04.426 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:38:04.433 +07:00 [INF] Response: 201
2025-08-09 16:38:04.585 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:38:04.592 +07:00 [INF] Response: 201
2025-08-09 16:38:04.729 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:38:04.737 +07:00 [INF] Response: 201
2025-08-09 16:38:04.886 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:38:04.894 +07:00 [INF] Response: 201
2025-08-09 16:39:22.366 +07:00 [INF] Incoming request: GET /swagger/index.html
2025-08-09 16:39:22.423 +07:00 [INF] Response: 200
2025-08-09 16:39:22.549 +07:00 [INF] Incoming request: GET /swagger/v1/swagger.json
2025-08-09 16:39:22.606 +07:00 [INF] Response: 200
ponse: 200
2025-08-09 16:39:22.549 +07:00 [INF] Incoming request: GET /swagger/v1/swagger.json
2025-08-09 16:39:22.606 +07:00 [INF] Response: 200
7.0.0.1:5203: address alrea2025-08-09 16:39:09.309 +07:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5203: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (98): Address already in use
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachSe2025-08-09 16:39:09.332 +07:00 [WRN] Failed to stop bus: "rabbitmq://localhost/archlinux_Week3_bus_d9kyyyr7fmiuoasibdq7qkrzyx?temporary=true" (Not2025-08-09 16:39:09.332 +07:00 [WRN] Failed to stop bus: "rabbitmq://localhost/archlinux_Week3_bus_d9kyyyr7fmiuoasibdq7qkrzyx?temporary=true" (Not Started)
2025-08-09 16:41:36.020 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-08-09 16:41:48.352 +07:00 [INF] Incoming request: GET /api/Author
2025-08-09 16:41:48.400 +07:00 [WRN] Failed to determine the https port fo2025-08-09 12025-08-09 16:41:49.973 +07:00 [INF] Response: 200
2025-08-09 16:42:13.121 +07:00 [INF] Incoming request: POST /api/Auth/logi202025-08-09 16:42:13.221 +07:00 [INF] Response: 200
2025-08-09 16:42:39.721 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:42:40.151 +07:00 [INF] Response: 201
2025-08-09 16:42:42.091 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:42:42.111 +07:00 [INF] Response: 201
2025-08-09 16:42:42.283 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:42:42.296 +07:00 [INF] Response: 201
2025-08-09 16:42:42.498 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:42:42.509 +07:00 [INF] Response: 201
2025-08-09 16:42:42.678 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:42:42.686 +07:00 [INF] Response: 201
2025-08-09 16:42:42.846 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:42:42.855 +07:00 [INF] Response: 201
2025-08-09 16:43:14.672 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:43:14.709 +07:00 [ERR] S-FAULT "rabbitmq://localhost/Week3.C2025-08-09 16:43:14.709 +07:00 [ERR] S-FAULT "rabbitmq://localhost/Week3.Controllers:CreateBookRequest" "9bd50000-9d2a-eb38-99ab-08ddd7292986" Week3.Controllers.CreateBookRequest
RabbitMQ.Client.Exceptions.AlreadyClosedException: Already closed: The AMQP operation was interrupted: AMQP close-reason, initiated by Peer, code=404, text='NOT_FOUND - no exchange 'Week3.Controllers:CreateBookRequest' in vhost '/'', classId=60, methodId=40
   at RabbitMQ.Client.Impl.Channel.PublisherConfirmationInfo.MaybeWaitForConfirmationAsync(CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.MaybeEndPublisherConfirmationTracking(PublisherConfirmationInfo publisherConfirmationInfo, CancellationToken cancellationToken)
   at RabbitMQ.Client.Impl.Channel.BasicPublishAsync[TProperties](String exchange, String routingKey, Boolean mandatory, TProperties basicProperties, ReadOnlyMemory`1 body, CancellationToken cancellationToken)
   at MassTransit.RabbitMqTransport.RabbitMqChannelContext.<>c__DisplayClass11_1.<<BasicPublishAsync>g__WaitAck|1>d.MoveNext() in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/RabbitMqChannelContext.cs:line 51
--- End of stack trace from previous location ---
   at MassTransit.RabbitMqTransport.RabbitMqSendTransportContext.Send[T](ChannelContext transportContext, SendContext`1 sendContext) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/RabbitMqSendTransportContext.cs:line 169
   at MassTransit.Transports.SendTransport`1.SendPipe`1.Send(TC2025-08-09 16:43:22.415 +07:00 [INF] Response: 201
2025-08-09 16:43:26.151 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:43:26.189 +07:00 [INF] Response: 201
2025-08-09 16:43:26.313 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:43:26.321 +07:00 [INF] Response: 201
2025-08-09 16:44:11.233 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:44:11.286 +07:00 [INF] Response: 201
2025-08-09 16:44:13.587 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:44:13.596 +07:00 [INF] Response: 201
equest: POST /api/Book
2025-08-09 16:44:13.596 +07:00 [INF] Response: 201
2025-08-09 16:44:31.178 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-08-09 16:45:03.920 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:45:04.018 +07:00 [WRN] Failed to determine the https port fo2025-08-09 12025-08-09 16:45:05.864 +07:00 [INF] Response: 201
tps port for redirect.
2025-08-09 16:45:05.864 +07:00 [INF] Response: 201
2025-08-09 16:47:39.864 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-08-09 16:48:52.735 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:48:52.852 +07:00 [WRN] Failed to determine the https port fo2025-08-09 12025-08-09 16:48:54.627 +07:00 [INF] Response: 201
2025-08-09 16:48:56.514 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:48:56.602 +07:00 [INF] Response: 201
2025-08-09 16:48:57.360 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:48:57.384 +07:00 [INF] Response: 201
2025-08-09 16:48:57.516 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:48:57.524 +07:00 [INF] Response: 201
equest: POST /api/Book
2025-08-09 16:48:57.524 +07:00 [INF] Response: 201
2025-08-09 16:56:03.357 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-08-09 16:56:08.612 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 16:56:08.727 +07:00 [WRN] Failed to determine the https port fo2025-08-09 12025-08-09 16:56:10.581 +07:00 [INF] Response: 201
tps port for redirect.
2025-08-09 16:56:10.581 +07:00 [INF] Response: 201
2025-08-09 17:01:16.965 +07:00 [INF] Configured endpoint book-created-event-queue, Consumer: Week3.BookWorkerService.Consumers.BookCreatedEventConsumer
2025-08-09 17:01:17.396 +07:00 [INF] Bus started: "rabbitmq://localhost/"
t-queue, Consumer: Week3.BookWorkerService.Consumers.BookCreatedEventConsumer
2025-08-09 17:01:17.396 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-08-09 17:01:59.390 +07:00 [INF] Configured endpoint book-created-queue, Consumer: Week3.BookWorkerService.Consumers.BookCreatedEventConsumer
2025-08-09 17:01:59.814 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-08-09 17:02:28.835 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 17:02:28.963 +07:00 [WRN] Failed to determine the https port for redirect.
2025-08-09 17:02:30.894 +07:00 [INF] Response: 201
2025-08-09 17:02:33.484 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 17:02:33.560 +07:00 [INF] Response: 201
2025-08-09 17:02:34.193 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 17:02:34.222 +07:00 [INF] Response: 201
2025-08-09 17:02:34.660 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 17:02:34.669 +07:00 [INF] Response: 201
2025-08-09 17:02:34.841 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 17:02:34.849 +07:00 [INF] Response: 201
2025-08-09 17:02:34.995 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 17:02:35.003 +07:00 [INF] Response: 201
2025-08-09 17:03:34.437 +07:00 [ERR] R-FAULT "rabbitmq://localhost/book-created-queue" null "00:00:00.0661668"
System.Runtime.Serialization.Serial2025-08-09 17:03:34.437 +07:00 [ERR] R-FAULT "rabbitmq://localhost/book-created-queue" null "00:00:00.0661668"
System.Runtime.Serialization.SerializationException: An error occured while deserializing the message envelope
 ---> System.Text.Json.JsonException: 'a' is an invalid start of a value. Path: $ | LineNumber: 0 | BytePositionInLine: 0.
 ---> System.Text.Json.JsonReaderException: 'a' is an invalid start of a value. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadFirstToken(Byte first)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](ReadOnlySpan`1 utf8Json, JsonSerializerOptions options)
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(MessageBody body, Headers headers, Uri destinationAddress) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 78
   --- End of inner exception stack trace ---
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(MessageBody body, Headers headers, Uri destinationAddress) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 98
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(ReceiveContext receiveContext) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 71
   at MassTransit.Middleware.DeserializeFilter.Send(ReceiveContext context, IPipe`1 next) in /_/src/MassTransit/Middleware/DeserializeFilter.cs:line 36
   at MassTransit.Midd2025-08-09 17:04:01.067 +07:00 [ERR] R-FAULT "rabbitmq://localhost/book-created-queue" null "00:00:00.0096854"
System.Runtime.Serialization.Serial2025-08-09 17:04:01.067 +07:00 [ERR] R-FAULT "rabbitmq://localhost/book-created-queue" null "00:00:00.0096854"
System.Runtime.Serialization.SerializationException: An error occured while deserializing the message envelope
 ---> System.Text.Json.JsonException: 'a' is an invalid start of a value. Path: $ | LineNumber: 0 | BytePositionInLine: 0.
 ---> System.Text.Json.JsonReaderException: 'a' is an invalid start of a value. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadFirstToken(Byte first)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](ReadOnlySpan`1 utf8Json, JsonSerializerOptions options)
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(MessageBody body, Headers headers, Uri destinationAddress) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 78
   --- End of inner exception stack trace ---
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(MessageBody body, Headers headers, Uri destinationAddress) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 98
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(ReceiveContext receiveContext) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 71
   at MassTransit.Middleware.DeserializeFilter.Send(ReceiveContext context, IPipe`1 next) in /_/src/MassTransit/Middleware/DeserializeFilter.cs:line 36
   at MassTransit.Midd2025-08-09 17:04:01.697 +07:00 [ERR] R-FAULT "rabbitmq://localhost/book-created-queue" null "00:00:00.0077714"
System.Runtime.Serialization.Serial2025-08-09 17:04:01.697 +07:00 [ERR] R-FAULT "rabbitmq://localhost/book-created-queue" null "00:00:00.0077714"
System.Runtime.Serialization.SerializationException: An error occured while deserializing the message envelope
 ---> System.Text.Json.JsonException: 'a' is an invalid start of a value. Path: $ | LineNumber: 0 | BytePositionInLine: 0.
 ---> System.Text.Json.JsonReaderException: 'a' is an invalid start of a value. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadFirstToken(Byte first)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](ReadOnlySpan`1 utf8Json, JsonSerializerOptions options)
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(MessageBody body, Headers headers, Uri destinationAddress) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 78
   --- End of inner exception stack trace ---
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(MessageBody body, Headers headers, Uri destinationAddress) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 98
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(ReceiveContext receiveContext) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 71
   at MassTransit.Middleware.DeserializeFilter.Send(ReceiveContext context, IPipe`1 next) in /_/src/MassTransit/Middleware/DeserializeFilter.cs:line 36
   at MassTransit.Midd2025-08-09 17:04:03.894 +07:00 [ERR] R-FAULT "rabbitmq://localhost/book-created-queue" null "00:00:00.0034770"
System.Runtime.Serialization.Serial2025-08-09 17:04:03.894 +07:00 [ERR] R-FAULT "rabbitmq://localhost/book-created-queue" null "00:00:00.0034770"
System.Runtime.Serialization.SerializationException: An error occured while deserializing the message envelope
 ---> System.Text.Json.JsonException: 'a' is an invalid start of a value. Path: $ | LineNumber: 0 | BytePositionInLine: 0.
 ---> System.Text.Json.JsonReaderException: 'a' is an invalid start of a value. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadFirstToken(Byte first)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](ReadOnlySpan`1 utf8Json, JsonSerializerOptions options)
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(MessageBody body, Headers headers, Uri destinationAddress) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 78
   --- End of inner exception stack trace ---
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(MessageBody body, Headers headers, Uri destinationAddress) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 98
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(ReceiveContext receiveContext) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 71
   at MassTransit.Middleware.DeserializeFilter.Send(ReceiveContext context, IPipe`1 next) in /_/src/MassTransit/Middleware/DeserializeFilter.cs:line 36
   at MassTransit.Midd2025-08-09 17:04:05.460 +07:00 [ERR] R-FAULT "rabbitmq://localhost/book-created-queue" null "00:00:00.0026325"
System.Runtime.Serialization.Serial2025-08-09 17:04:05.460 +07:00 [ERR] R-FAULT "rabbitmq://localhost/book-created-queue" null "00:00:00.0026325"
System.Runtime.Serialization.SerializationException: An error occured while deserializing the message envelope
 ---> System.Text.Json.JsonException: 'a' is an invalid start of a value. Path: $ | LineNumber: 0 | BytePositionInLine: 0.
 ---> System.Text.Json.JsonReaderException: 'a' is an invalid start of a value. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadFirstToken(Byte first)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](ReadOnlySpan`1 utf8Json, JsonSerializerOptions options)
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(MessageBody body, Headers headers, Uri destinationAddress) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 78
   --- End of inner exception stack trace ---
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(MessageBody body, Headers headers, Uri destinationAddress) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 98
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(ReceiveContext receiveContext) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 71
   at MassTransit.Middleware.DeserializeFilter.Send(ReceiveContext context, IPipe`1 next) in /_/src/MassTransit/Middleware/DeserializeFilter.cs:line 36
   at MassTransit.Midd2025-08-09 17:05:03.133 +07:00 [ERR] R-FAULT "rabbitmq://localhost/book-created-queue" null "00:00:00.0092227"
System.Runtime.Serialization.Serial2025-08-09 17:05:03.133 +07:00 [ERR] R-FAULT "rabbitmq://localhost/book-created-queue" null "00:00:00.0092227"
System.Runtime.Serialization.SerializationException: An error occured while deserializing the message envelope
 ---> System.Text.Json.JsonException: 'a' is an invalid start of a value. Path: $ | LineNumber: 0 | BytePositionInLine: 0.
 ---> System.Text.Json.JsonReaderException: 'a' is an invalid start of a value. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadFirstToken(Byte first)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](ReadOnlySpan`1 utf8Json, JsonSerializerOptions options)
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(MessageBody body, Headers headers, Uri destinationAddress) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 78
   --- End of inner exception stack trace ---
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(MessageBody body, Headers headers, Uri destinationAddress) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 98
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(ReceiveContext receiveContext) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 71
   at MassTransit.Middleware.DeserializeFilter.Send(ReceiveContext context, IPipe`1 next) in /_/src/MassTransit/Middleware/DeserializeFilter.cs:line 36
   at MassTransit.Midd2025-08-09 17:05:25.446 +07:00 [ERR] R-FAULT "rabbitmq://localhost/book-created-queue" null "00:00:00.0190016"
System.Runtime.Serialization.Serial2025-08-09 17:05:25.446 +07:00 [ERR] R-FAULT "rabbitmq://localhost/book-created-queue" null "00:00:00.0190016"
System.Runtime.Serialization.SerializationException: An error occured while deserializing the message envelope
 ---> System.ArgumentNullException: Value cannot be null. (Parameter 'envelope')
   at MassTransit.Serialization.SystemTextJsonSerializerContext..ctor(IObjectDeserializer objectDeserializer, JsonSerializerOptions options, ContentType contentType, MessageContext messageContext, String[] messageTypes, MessageEnvelope envelope, Object message) in /_/src/MassTransit/Serialization/SystemTextJsonSerializerContext.cs:line 23
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(MessageBody body, Headers headers, Uri destinationAddress) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 90
   --- End of inner exception stack trace ---
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(MessageBody body, Headers headers, Uri destinationAddress) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 98
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(ReceiveContext receiveContext) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 71
   at MassTransit.Middleware.DeserializeFilter.Send(ReceiveContext context, IPipe`1 next) in /_/src/MassTransit/Middleware/DeserializeFilter.cs:line 36
   at MassTransit.Midd2025-08-09 17:05:55.065 +07:00 [ERR] R-FAULT "rabbitmq://localhost/book-created-queue" null "00:00:00.0058440"
System.Runtime.Serialization.Serial2025-08-09 17:05:55.065 +07:00 [ERR] R-FAULT "rabbitmq://localhost/book-created-queue" null "00:00:00.0058440"
System.Runtime.Serialization.SerializationException: An error occured while deserializing the message envelope
 ---> System.ArgumentNullException: Value cannot be null. (Parameter 'envelope')
   at MassTransit.Serialization.SystemTextJsonSerializerContext..ctor(IObjectDeserializer objectDeserializer, JsonSerializerOptions options, ContentType contentType, MessageContext messageContext, String[] messageTypes, MessageEnvelope envelope, Object message) in /_/src/MassTransit/Serialization/SystemTextJsonSerializerContext.cs:line 23
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(MessageBody body, Headers headers, Uri destinationAddress) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 90
   --- End of inner exception stack trace ---
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(MessageBody body, Headers headers, Uri destinationAddress) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 98
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(ReceiveContext receiveContext) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 71
   at MassTransit.Middleware.DeserializeFilter.Send(ReceiveContext context, IPipe`1 next) in /_/src/MassTransit/Middleware/DeserializeFilter.cs:line 36
   at MassTransit.Middleware.RescueFilter`2.MassTransit.IFilter<TContext>.Send(TContext context, IPipe`1 next) in /_/src/MassTransit/Middleware/RescueFilter.cs:line 43
2025-08-09 17:08:02.672 +07:00 [INF] Configured endpoint book-created-queue, Consumer: Week3.BookWorkerService.Consumers.BookCreatedEventConsumer
2025-08-09 17:08:03.038 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-08-09 17:08:09.543 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 17:08:09.656 +07:00 [WRN] Failed to determine the https port for redirect.
2025-08-09 17:08:11.389 +07:00 [INF] Response: 201
2025-08-09 17:08:55.628 +07:00 [ERR] R-FAULT "rabbitmq://localhost/book-created-queue" null "00:00:00.0799494"
System.Runtime.Serialization.Serial2025-08-09 17:08:55.628 +07:00 [ERR] R-FAULT "rabbitmq://localhost/book-created-queue" null "00:00:00.0799494"
System.Runtime.Serialization.SerializationException: An error occured while deserializing the message envelope
 ---> System.ArgumentNullException: Value cannot be null. (Parameter 'envelope')
   at MassTransit.Serialization.SystemTextJsonSerializerContext..ctor(IObjectDeserializer objectDeserializer, JsonSerializerOptions options, ContentType contentType, MessageContext messageContext, String[] messageTypes, MessageEnvelope envelope, Object message) in /_/src/MassTransit/Serialization/SystemTextJsonSerializerContext.cs:line 23
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(MessageBody body, Headers headers, Uri destinationAddress) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 90
   --- End of inner exception stack trace ---
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(MessageBody body, Headers headers, Uri destinationAddress) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 98
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(ReceiveContext receiveContext) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 71
   at MassTransit.Middleware.DeserializeFilter.Send(ReceiveContext context, IPipe`1 next) in /_/src/MassTransit/Middleware/DeserializeFilter.cs:line 36
   at MassTransit.Midd2025-08-09 17:09:10.939 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 17:09:11.019 +07:00 [INF] Response: 201
2025-08-09 17:09:57.154 +07:00 [ERR] R-FAULT "rabbitmq://localhost/book-created-queue" null "00:00:00.0112134"
System.Runtime.Serialization.Serial2025-08-09 17:09:57.154 +07:00 [ERR] R-FAULT "rabbitmq://localhost/book-created-queue" null "00:00:00.0112134"
System.Runtime.Serialization.SerializationException: An error occured while deserializing the message envelope
 ---> System.ArgumentNullException: Value cannot be null. (Parameter 'envelope')
   at MassTransit.Serialization.SystemTextJsonSerializerContext..ctor(IObjectDeserializer objectDeserializer, JsonSerializerOptions options, ContentType contentType, MessageContext messageContext, String[] messageTypes, MessageEnvelope envelope, Object message) in /_/src/MassTransit/Serialization/SystemTextJsonSerializerContext.cs:line 23
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(MessageBody body, Headers headers, Uri destinationAddress) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 90
   --- End of inner exception stack trace ---
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(MessageBody body, Headers headers, Uri destinationAddress) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 98
   at MassTransit.Serialization.SystemTextJsonMessageSerializer.Deserialize(ReceiveContext receiveContext) in /_/src/MassTransit/Serialization/SystemTextJsonMessageSerializer.cs:line 71
   at MassTransit.Middleware.DeserializeFilter.Send(ReceiveContext context, IPipe`1 next) in /_/src/MassTransit/Middleware/DeserializeFilter.cs:line 36
   at MassTransit.Middleware.RescueFilter`2.MassTransit.IFilter<TContext>.Send(TContext context, IPipe`1 next) in /_/src/MassTransit/Middleware/RescueFilter.cs:line 43
2025-08-09 17:12:12.807 +07:00 [INF] Configured endpoint book-created-queue, Consumer: Week3.BookWorkerService.Consumers.BookCreatedEventConsumer
2025-08-09 17:12:13.263 +07:00 [INF] Bus started: "rabbitmq://localhost/"
2025-08-09 17:12:34.391 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 17:12:34.522 +07:00 [WRN] Failed to determine the https port for redirect.
2025-08-09 17:12:36.437 +07:00 [INF] Received Book: string - 2
2025-08-09 17:12:36.440 +07:00 [INF] Response: 201
2025-08-09 17:12:41.787 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 17:12:41.846 +07:00 [INF] Received Book: string - 2
2025-08-09 17:12:41.848 +07:00 [INF] Response: 201
2025-08-09 17:12:43.073 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 17:12:43.095 +07:00 [INF] Received Book: string - 2
2025-08-09 17:12:43.098 +07:00 [INF] Response: 201
2025-08-09 17:12:43.254 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 17:12:43.261 +07:00 [INF] Received Book: string - 2
2025-08-09 17:12:43.265 +07:00 [INF] Response: 201
2025-08-09 17:12:43.534 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 17:12:43.540 +07:00 [INF] Received Book: string - 2
2025-08-09 17:12:43.545 +07:00 [INF] Response: 201
2025-08-09 17:12:43.695 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 17:12:43.702 +07:00 [INF] Received Book: string - 2
2025-08-09 17:12:43.705 +07:00 [INF] Response: 201
2025-08-09 17:12:43.878 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 17:12:43.884 +07:00 [INF] Received Book: string - 2
2025-08-09 17:12:43.888 +07:00 [INF] Response: 201
2025-08-09 17:12:44.018 +07:00 [INF] Incoming request: POST /api/Book
2025-08-09 17:12:44.026 +07:00 [INF] Received Book: string - 2
2025-08-09 17:12:44.031 +07:00 [INF] Response: 201
ncoming request: POST /api/Book
2025-08-09 17:12:44.026 +07:00 [INF] Received Book: string - 2
2025-08-09 17:12:44.031 +07:00 [INF] Response: 201
